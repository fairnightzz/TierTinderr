(function(t){function e(e){for(var a,r,s=e[0],c=e[1],l=e[2],d=0,f=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/Tinderwal/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),o=n.n(a);o.a},2019:function(t,e,n){"use strict";var a=n("4535"),o=n.n(a);o.a},4535:function(t,e,n){},"48dd":function(t,e,n){},"494a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=n("8c4f"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-main"},[n("div",{staticClass:"container",staticStyle:{"padding-top":"5rem"}},[n("div",{staticClass:"row justify-content-md-center"},[n("div",{staticClass:"col-md-auto",staticStyle:{"padding-right":".5rem"}},[n("font-awesome-icon",{staticStyle:{color:"white"},attrs:{icon:"fire",size:"3x"}})],1),t._m(0)]),n("div",{staticClass:"row justify-content-md-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.code,expression:"form.code"}],staticClass:"input-field",attrs:{id:"code",type:"text",required:"",autocomplete:"off",spellcheck:"false",placeholder:"Enter Code",minlength:"7",maxlength:"7"},domProps:{value:t.form.code},on:{input:function(e){e.target.composing||t.$set(t.form,"code",e.target.value)}}})]),n("div",{staticClass:"row justify-content-md-center"},[n("button",{staticClass:"input-submit",on:{click:t.onSubmit}},[t._v("Login")])]),n("div",{staticClass:"row justify-content-md-center"},[n("a",{staticStyle:{"text-decoration-color":"white"},attrs:{href:"https://github.com/fairnightzz/Tinderwal"}},[n("p",{staticStyle:{color:"white",padding:".5rem","font-size":"12px"},domProps:{textContent:t._s("</> happy birthday fadilah")}})])])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-auto",staticStyle:{"padding-left":".5rem"}},[n("h1",{staticStyle:{color:"white"}},[t._v("Tinderwal.")])])}],s={name:"Login",data:function(){return{form:{code:""},formStatus:"unsubmitted"}},methods:{onSubmit:function(t){var e=this;t.preventDefault();var n=this.form.code;n.length<6||this.$store.dispatch("auth/login",n).then((function(t){e.formStatus="success: ".concat(t),e.$router.push("/main")}),(function(t){e.formStatus="failure: ".concat(t)}))},onReset:function(t){t.preventDefault(),this.form.code=""}},mounted:function(){this.$store.state.auth.loggedIn&&this.$router.push("/main")}},c=s,l=(n("9d77"),n("2877")),u=Object(l["a"])(c,i,r,!1,null,"0e348f66",null),d=u.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{"text-align":"center",height:"100%"}},[n("img",{staticClass:"pfp",attrs:{src:t.userData.pic}}),n("h3",{staticStyle:{margin:"2rem",color:"#404040"}},[t._v("Welcome, "+t._s(t.userData.name)+"!")])])])},h=[],m=n("d4ec"),g=n("bee2"),p=n("bc3a"),v=n.n(p),b="http://144.217.90.215:3000",y=function(){function t(){Object(m["a"])(this,t)}return Object(g["a"])(t,[{key:"getGalleryPictures",value:function(){return v.a.get(b+"/gallery",{headers:t.getAuthToken()}).then((function(t){return t.data}))}},{key:"getVotingPictures",value:function(){return v.a.get(b+"/vote",{headers:t.getAuthToken()}).then((function(t){return t.data}))}},{key:"getUserProfile",value:function(){return v.a.get(b+"/user",{headers:t.getAuthToken()}).then((function(t){return t.data}))}},{key:"makeVote",value:function(e,n){return v.a.post(b+"/vote",{pic:e,verdict:n},{headers:t.getAuthToken()}).then((function(t){return t.data}))}}],[{key:"getAuthToken",value:function(){var t=JSON.parse(localStorage.getItem("localData"));return null!=t&&null!=t.accessToken?{"x-access-token":t.accessToken}:{}}}]),t}(),w=new y,x={name:"Main",data:function(){return{userData:{}}},mounted:function(){var t=this;this.$store.state.auth.loggedIn||this.$router.push("/login"),w.getUserProfile().then((function(e){t.userData=e}),(function(t){console.log(t)}))}},_=x,k=(n("a1ec"),Object(l["a"])(_,f,h,!1,null,"4241d905",null)),C=k.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[n("h3",{staticStyle:{position:"absolute",top:"2rem",color:"#404040"}},[t._v(t._s(t.cards.length>0?"Pics remaining: "+t.cards.length:"All done!"))]),t._l(this.cards.length>=2?2:this.cards.length,(function(e){return n("draggable-card",{key:t.cards[e-1],ref:"draggableCard",refInFor:!0,style:{"z-index":-(e-1)},attrs:{isCurrent:e-1===0,imageURL:t.cards[e-1]},on:{destroyCard:t.removeCard}})})),n("div",{staticStyle:{position:"absolute",top:"45rem"}},[n("button",{staticClass:"circle-button",on:{click:function(e){return e.preventDefault(),t.onRejectButton(e)}}},[n("font-awesome-icon",{staticStyle:{color:"#606060"},attrs:{icon:"times",size:"2x"}})],1),n("button",{staticClass:"circle-button",on:{click:function(e){return e.preventDefault(),t.onAcceptButton(e)}}},[n("font-awesome-icon",{staticStyle:{color:"var(--bg-primary)"},attrs:{icon:"heart",size:"2x"}})],1)])],2)])},j=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isShowing?n("div",{ref:"interactElement",class:{"card-main":!0,animateCardRelease:!this.isInteracting,"top-card":this.isCurrent},style:{transform:t.translate+" "+t.rotate},on:{acceptCard:t.handleAccept,rejectCard:t.handleReject}},[n("img",{staticClass:"card-img",attrs:{src:this.imageURL}}),n("font-awesome-icon",{staticStyle:{color:"var(--bg-primary-dark)",position:"absolute",bottom:"1rem",right:"1rem"},attrs:{icon:"fire",size:"2x"}})],1):t._e()},T=[],O=(n("99af"),n("5014")),I=n.n(O),P={name:"DraggableCard",props:["isCurrent","imageURL"],static:{acceptThreshold:200,maxTiltDistance:400,maxTilt:60},data:function(){return{position:{x:0,y:0},isInteracting:!1,isShowing:!0}},computed:{translate:function(){return"translate(".concat(this.position.x,"px,").concat(this.position.y,"px)")},rotate:function(){var t=this.$options.static,e=t.maxTiltDistance,n=t.maxTilt,a=this.clamp(this.position.x,-e,e)/e,o=180*Math.acos(-a)/Math.PI,i=o>90?180-n:n,r=i>90?this.clamp(o,90,i):this.clamp(o,i,90);return"rotate(".concat(r-90,"deg)")}},mounted:function(){var t=this;I()(this.$refs.interactElement).draggable({onstart:function(){t.isInteracting=!0},onmove:function(e){t.setPosition(t.position.x+e.dx,t.position.y+e.dy)},onend:function(){var e=t.$options.static.acceptThreshold;t.position.x<-e?t.handleReject():t.position.x>e?t.handleAccept():t.setPosition(0,0),t.isInteracting=!1}})},beforeDestroy:function(){I()(this.$refs.interactElement).unset()},methods:{setPosition:function(t,e){this.position={x:t,y:e}},destroyCard:function(){var t=this;setTimeout((function(){t.$emit("destroyCard"),t.isShowing=!1}),500)},clamp:function(t,e,n){return t<e?e:t>n?n:t},handleReject:function(){this.setPosition(-1e3,this.position.y),this.destroyCard(),w.makeVote(this.imageURL,!1).then((function(t){console.log(t)}),(function(t){console.log(t)}))},handleAccept:function(){this.setPosition(1e3,this.position.y),this.destroyCard(),w.makeVote(this.imageURL,!0).then((function(t){console.log(t)}),(function(t){console.log(t)}))}}},D=P,L=(n("2019"),Object(l["a"])(D,$,T,!1,null,"58d082ce",null)),E=L.exports,N={name:"Vote",components:{DraggableCard:E},data:function(){return{cards:[]}},methods:{removeCard:function(){this.cards.shift()},onAcceptButton:function(){null!=this.$refs.draggableCard[0]&&this.$refs.draggableCard[0].handleAccept()},onRejectButton:function(){null!=this.$refs.draggableCard[0]&&this.$refs.draggableCard[0].handleReject()}},mounted:function(){var t=this;this.$store.state.auth.loggedIn||this.$router.push("/login"),w.getVotingPictures().then((function(e){console.log(e),t.cards=e.pics}),(function(t){console.log(t)}))}},A=N,R=(n("d852"),Object(l["a"])(A,S,j,!1,null,"0706004c",null)),z=R.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"gallery-grid"},t._l(t.galleryItems,(function(t,e){return n("div",{key:e,class:{"image-card":!0,"image-wide":t.width>2*t.height,"image-tall":t.height>2*t.width,"image-big":!(t.width>2*t.height)&&!(t.height>2*t.width)&&Math.random()>.9},style:{"--animation-order":e}},[n("img",{class:[t.width>t.height?"image-height-fit":"image-width-fit"],attrs:{src:t.url}})])})),0)])},U=[],V=n("b85c"),J={name:"Gallery",data:function(){return{galleryItems:[]}},methods:{imageDimensions:function(t){var e=this,n=new Image;n.onload=function(){e.galleryItems.push({url:t,width:this.width,height:this.height})},n.src=t}},mounted:function(){var t=this;this.$store.state.auth.loggedIn||this.$router.push("/login"),w.getGalleryPictures().then((function(e){var n,a=Object(V["a"])(e.pics);try{for(a.s();!(n=a.n()).done;){var o=n.value;t.imageDimensions(o)}}catch(i){a.e(i)}finally{a.f()}}),(function(t){console.log(t)}))}},B=J,F=(n("fd67"),Object(l["a"])(B,M,U,!1,null,"d32334fa",null)),G=F.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("Leaderboard")])},H=[],W={name:"Leaderboard"},K=W,Q=Object(l["a"])(K,q,H,!1,null,"4c8ea0af",null),X=Q.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v(t._s(t.$route.params.id))])])},Z=[],tt={name:"Profile"},et=tt,nt=Object(l["a"])(et,Y,Z,!1,null,"49157fed",null),at=nt.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("404 Page not found :(")])},it=[],rt={name:"Notfound",mounted:function(){this.$router.push("/login")}},st=rt,ct=Object(l["a"])(st,ot,it,!1,null,"d9295dc0",null),lt=ct.exports;a["default"].use(o["a"]);var ut=new o["a"]({routes:[{path:"/main",component:C},{path:"/login",component:d},{path:"/vote",component:z},{path:"/liked",component:G},{path:"/leaderboard",component:X},{path:"/profile/:id",component:at},{path:"*",component:lt}],mode:"history"}),dt=n("2f62"),ft=(n("d3b7"),function(){function t(){Object(m["a"])(this,t)}return Object(g["a"])(t,[{key:"login",value:function(t){return v.a.post(b+"/login",{passcode:t}).then((function(t){return null!=t.data.accessToken&&localStorage.setItem("localData",JSON.stringify({accessToken:t.data.accessToken})),t.data}))}},{key:"logout",value:function(){localStorage.removeItem("localData")}}]),t}()),ht=new ft,mt=JSON.parse(localStorage.getItem("localData")),gt=null!=mt?{accessToken:mt.accessToken,loggedIn:!0}:{accessToken:null,loggedIn:!1},pt={namespaced:!0,state:gt,mutations:{loginSuccess:function(t,e){t.accessToken=e.accessToken,t.loggedIn=!0},loginFailed:function(t){t.accessToken=null,t.loggedIn=!1},logout:function(t){t.accessToken=null,t.loggedIn=!1}},actions:{login:function(t,e){var n=t.commit;return ht.login(e).then((function(t){return n("loginSuccess",t),Promise.resolve(t)}),(function(t){return n("loginFailed"),Promise.reject(t)}))},logout:function(t){var e=t.commit;ht.logout(),e("logout")}}};a["default"].use(dt["a"]);var vt=new dt["a"].Store({modules:{auth:pt}}),bt=n("5f5b"),yt=n("6018"),wt=n("ecee"),xt=n("c074"),_t=n("ad3d"),kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("navbar"),n("router-view",{staticClass:"page",staticStyle:{"background-color":"var(--bg-secondary)"}})],1)},Ct=[],St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition",{attrs:{name:"navbar"},on:{"after-leave":t.pushToLogin}},[t.isLoggedIn?n("div",{staticClass:"navbar-main"}):t._e()]),n("transition",{attrs:{name:"fade"}},[t.isLoggedIn?n("nav",{staticClass:"navbar-main"},[n("ul",{staticClass:"navbar-nav"},[t._l(t.navItems,(function(t,e){return n("router-link",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"right",arrow:"true"},expression:"{placement: 'right', arrow: 'true'}"}],key:e,class:t.classes,attrs:{to:t.route,content:t.toolTip}},[n("font-awesome-icon",{attrs:{icon:t.iconName,size:"2x"}})],1)})),n("a",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"right",arrow:"true"},expression:"{placement: 'right', arrow: 'true'}"}],staticClass:"nav-item nav-item-a",attrs:{content:"Sign Out",href:""},on:{click:function(e){return e.preventDefault(),t.handleLogout(e)}}},[n("font-awesome-icon",{attrs:{icon:"sign-out-alt",size:"2x"}})],1)],2)]):t._e()])],1)},jt=[],$t={name:"Navbar",computed:{isLoggedIn:function(){return this.$store.state.auth.loggedIn}},data:function(){return{showNav:!0,navItems:[{route:"/main",iconName:"fire",toolTip:"Home",classes:"nav-item"},{route:"/vote",iconName:"poll",toolTip:"Vote",classes:"nav-item"},{route:"/liked",iconName:"heart",toolTip:"Liked",classes:"nav-item"}]}},methods:{handleLogout:function(){this.$store.dispatch("auth/logout")},pushToLogin:function(){this.$router.push("/login")}}},Tt=$t,Ot=(n("c93f"),Object(l["a"])(Tt,St,jt,!1,null,"639019b2",null)),It=Ot.exports,Pt={name:"App",components:{Navbar:It},data:function(){return{}}},Dt=Pt,Lt=(n("034f"),Object(l["a"])(Dt,kt,Ct,!1,null,null,null)),Et=Lt.exports;n("f9e3"),n("2dd8");a["default"].use(bt["a"]),a["default"].use(yt["b"]),a["default"].component("tippy",yt["a"]),wt["c"].add(xt["a"],xt["d"],xt["e"],xt["f"],xt["c"],xt["g"],xt["b"]),a["default"].component("font-awesome-icon",_t["a"]),a["default"].config.productionTip=!1,new a["default"]({data:{},computed:{},router:ut,store:vt,render:function(t){return t(Et)}}).$mount("#app")},"5bdb":function(t,e,n){},"85ec":function(t,e,n){},"9d77":function(t,e,n){"use strict";var a=n("5bdb"),o=n.n(a);o.a},a1ec:function(t,e,n){"use strict";var a=n("b7ae"),o=n.n(a);o.a},a3de:function(t,e,n){},b7ae:function(t,e,n){},c93f:function(t,e,n){"use strict";var a=n("494a"),o=n.n(a);o.a},d852:function(t,e,n){"use strict";var a=n("48dd"),o=n.n(a);o.a},fd67:function(t,e,n){"use strict";var a=n("a3de"),o=n.n(a);o.a}});
//# sourceMappingURL=app.6bb82621.js.map